{"version":3,"file":"main.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNA,MAAM,oBAA4B;;;ACAlC,MAAM,oBAA4B;;;ACAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAC6B;AAC7B;AACA;AACA;AACA;AAC2B;AAE3B,6BAAe,SAAS,OAAG;EACzB;EACA,IAAME,GAAG,GAAGD,kBAAQ,CAAC,wBAAwB,CAAC;EAC9CG,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;EAEhB,IAAMI,GAAW,GAAG,oCAAoC;EACxDN,oBAAU,CAAC;IACTQ,cAAc,EAAEF;EAClB,CAAC,CAAC;EACFF,OAAO,CAACC,GAAG,CAAC,qBAAqB,GAAGC,GAAG,CAAC;EAExC,IAAMG,SAAS,GACb,+EAA+E;;EAEjF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAT,sBAAY,CAAC;IACXW,UAAU,EAAEF,SAAS;IACrBG,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBC,EAAE,EAAE;IACN,CAAC,CAAC;IACFC,YAAY,EAAE,kBAAkB;IAChCC,OAAO,EAAE;MACPC,OAAO,EAAE;IACX;IACA;IACA;IACA;EACF,CAAC,CAAC;;EAEF,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAaC,IAAY,EAAE;IACvChB,OAAO,CAACC,GAAG,CAAC,iBAAiB,GAAGe,IAAI,CAAC;EACvC,CAAC;EACDpB,qBAAW,CAAC;IACVW,UAAU,EAAEF,SAAS;IACrBU,QAAQ,EAAEA,QAAQ;IAClB;IACAG,QAAQ,EAAE,IAAI;IACdC,SAAS,EAAE,IAAI;IACf;IACAC,OAAO,EAAE;IACT;EACF,CAAC,CAAC;;EACFpB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;EAClB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,C","sources":["webpack://archie/webpack/bootstrap","webpack://archie/webpack/runtime/compat get default export","webpack://archie/webpack/runtime/define property getters","webpack://archie/webpack/runtime/hasOwnProperty shorthand","webpack://archie/webpack/runtime/make namespace object","webpack://archie/external commonjs \"k6/x/amqp\"","webpack://archie/external commonjs \"k6/http\"","webpack://archie/./apps/tests/stress/src/main.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/x/amqp\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");","// // @ts-ignore\n// import { sleep, check } from 'k6';\n//\n// import http from 'k6/http';\n// // @ts-ignore\n// import Amqp from 'k6/x/amqp';\n// // import { Options } from 'k6/options';\n//\n// // export let options: Options = {\n// //   vus: 1,\n// //   duration: '1s',\n// // };\n//\n// export default () => {\n//   console.log('start');\n//   // const url: string = 'amqp://guest:guest@localhost:5672/';\n//   // Amqp.start({\n//   //   connection_url: url,\n//   // });\n//   console.log('here', JSON.stringify('http', http.get));\n//   const res = http.get('https://test-api.k6.io');\n//   check(res, {\n//     'status is 200': () => res.status === 200,\n//   });\n//   sleep(1);\n// };\n\n// import http from 'k6/http';\n// import { check } from 'k6';\n// import cheerio from 'cheerio';\n//\n// export default function () {\n//   const res = http.get('https://loadimpact.com/');\n//   const $ = cheerio.load(res.body);\n//\n//   const title = $('head title').text();\n//   check(title, {\n//     'has correct title': () => title == 'Load Impact is now k6',\n//   });\n//   console.log(title);\n// }\n\n// @ts-ignore\nimport Amqp from 'k6/x/amqp';\n// import * as amqp from 'amqplib/callback_api';\n// const amqp = require('amqplib/callback_api')\n// import * as amqp from 'amqplib';\n// import \"regenerator-runtime/runtime\";\nimport http from 'k6/http';\n\nexport default function () {\n  // console.log('K6 amqp extension enabled, version: ' + Amqp.version);\n  const res = http.get('https://test-api.k6.io');\n  console.log(res);\n\n  const url: string = 'amqp://guest:guest@localhost:5672/';\n  Amqp.start({\n    connection_url: url,\n  });\n  console.log('Connection opened: ' + url);\n\n  const queueName =\n    'onboarding-api-queue-onboarding-archie.microservice.tx_user.email.verified.v1';\n\n  // Queue.declare({\n  //   name: queueName,\n  //   // durable: false,\n  //   // delete_when_unused: false,\n  //   // exclusive: false,\n  //   // no_wait: false,\n  //   // args: null\n  // })\n  //\n  // console.log(queueName + \" queue is ready\")\n  Amqp.publish({\n    queue_name: queueName,\n    body: JSON.stringify({\n      k6: 'try1',\n    }),\n    content_type: 'application/json',\n    headers: {\n      header1: 'he',\n    },\n    // exchange: '',\n    // mandatory: false,\n    // immediate: false,\n  });\n\n  const listener = function (data: object) {\n    console.log('received data: ' + data);\n  };\n  Amqp.listen({\n    queue_name: queueName,\n    listener: listener,\n    // consumer: '',\n    auto_ack: true,\n    exclusive: true,\n    // no_local: false,\n    no_wait: false,\n    // args: null\n  });\n  console.log('end');\n  //   console.log('before connect')\n  // console.log(JSON.stringify(amqp, null, 2))\n  //   amqp.connect(url, (error, conn)=> {\n  //     console.log('end1')\n  //   })\n  //   console.log('actualEnd')\n  // const connection = await amqp.connect(url)\n  // const channel = await connection.createChannel()\n}\n"],"names":["Amqp","http","res","get","console","log","url","start","connection_url","queueName","publish","queue_name","body","JSON","stringify","k6","content_type","headers","header1","listener","data","listen","auto_ack","exclusive","no_wait"],"sourceRoot":""}